## 10. 对事务的支持

采用 Spring 默认的事务提交方式：发生运行时异常回滚，发生受查异常提交

下面的代码将提交第一条数据：

```java
@Service
public class StudentServiceImpl implements StudentService {

    @Autowired
    private StudentDao studentDao;

    @Override
    @Transactional
    public int addStudent(Student student) throws Exception {
        studentDao.insertStudent(student);
        if (true)
            throw new Exception("发生受查异常");
        return studentDao.insertStudent(student);
    }
}
```

下面的代码将进行回滚：

```java
@Service
public class StudentServiceImpl implements StudentService {

    @Autowired
    private StudentDao studentDao;

    @Override
    @Transactional(rollbackFor = Exception.class)
    public int addStudent(Student student) throws Exception {
        studentDao.insertStudent(student);
        if (true)
            throw new Exception("发生受查异常");
        return studentDao.insertStudent(student);
    }
}
```

