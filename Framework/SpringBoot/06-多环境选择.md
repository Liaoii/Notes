## 6. 多环境选择

新增 yml 文件：

**application-dev.yml**

```yaml
server:
 port: 8081
 servlet:
  context-path: /dev
```

**application-pro.yml**

```yaml
server:
 port: 8082
 servlet:
  context-path: /pro
```

**application.yml**

```yaml
spring:
 profiles:
  active: pro
```

使用不同的业务实现类：

**SomeServiceImpl**

```java
@Service
@Profile("dev")
public class SomeServiceImpl implements SomeService{

    @Override
    public String hello() {
        return "调用开发环境的方法";
    }
}
```

**OtherServiceImpl**

```java
@Service
@Profile("pro")
public class OtherServiceImpl implements SomeService{

    @Override
    public String hello() {
        return "调用生产环境的方法";
    }
}
```

进行访问测试：http://localhost:8082/pro/some 和 http://localhost:8081/dev/some

**单配置式多环境选择**

使用 Maven 进行打包，使用 java -jar 运行 jar 包，通过参数指定环境：

java -jar S05-multienv-0.0.1-SNAPSHOT.jar --spring.profiles.active=dev

java -jar S05-multienv-0.0.1-SNAPSHOT.jar --spring.profiles.active=pro