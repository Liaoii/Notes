# Git分支

### 1 查看各个分支当前所指的对象

```bash
$ git log --oneline --decorate
```

### 2 创建新分支

```bash
$ git branch <new branch name>
```

`git branch`命令仅仅**创建**一个新分支，并不会自动切换到新分支中去。

### 3 切换分支

切换分支只是改变了HEAD指针的指向

```bash
$ git checkout <branch>
```

### 4 新建分支并直接切换

```bash
$ git checkout -b <new branch name>
```

### 5 合并分支

将hotfix分支合并到master分支，首先需要切换到master分支：

```bash
$ git checkout master
$ git merge hotfix
```

### 6 删除分支

```bash
$ git branch -d hotfix
```

强制删除

```bash
$ git branch -D hotfix
```

### 7 查看分支相关操作

```bash
$ git branch
```

查看分支列表时额外查看每一个分支的最后一次提交：

```bash
$ git branch -v
```

查看已经合并到当前分支的分支，在结果列表中分支名称前没有 `*` 号的分支通常可以使用 `git branch -d` 删除掉：

```bash
$ git branch --merged
```

查看所有未合并到当前分支的分支，结果列表中的分支由于包含了未合并的工作，所以在尝试使用 `git branch -d` 命令删除时会失败：

```bash
$ git branch --no-merged
```

查看某一个分支的合并状态而不检出它们：

```bash
$ git branch --no-merged master
```

### 8 查看远程仓库信息

获得远程引用的完整列表：

```bash
$ git ls-remote <remote>
```

获得远程分支的更多信息：

```bash
$ git remote show <remote>
```

### 9 与指定的远程仓库同步信息

这个命令查找`<remote>`是哪一个服务器， 从中抓取本地没有的数据，并且更新本地数据库，移动 `origin/**` 指针到更新之后的位置。当抓取到新的远程跟踪分支时，本地不会自动生成一份可编辑的副本（拷贝）。

```bash
$ git fetch <remote>
```

抓取全部：

```bash
$ git fetch --all
```

### 10 推送到远程分支

推送本地的分支来更新远程仓库上的分支：

```bash
$ git push <remote> <branch>
```

将本地分支分支推送到远程，并使用不一样的分支名称：

```bash
$ git push <remote> <branch>:<branch>
```

### 11 如何基于远程分支进行工作（跟踪分支）

将远程分支的内容合并到当前分支：

```bash
$ git merge <remote>/<branch>
```

基于远程分支新建一个本地分支，该本地分支会自动与远程分支建立跟踪关系：

```bash
$ git checkout -b <branch> <remote>/<branch>
```

上一条命令的快捷方式：该命令会在本地新建一个与远程分支名称相同的分支，然后将本地分支与远程分支建立跟踪关系：

```bash
$ git checkout --track origin/<branch>
```

上一条命令的更简洁的方式：如果该分支刚好只有一个名字与之匹配的远程分支，就会自动创建跟踪关系：

```bash
$ git checkout <branch>
```

修改上游分支：

```bash
$ git branch -u <remote>/<branch>
$ git branch --set-upstream-to <remote>/<branch>
```

查看所有本地分支的跟踪的远程分支：

```bash
$ git branch -vv
```

### 12 拉取远程代码

`git pull` 会查找当前分支所跟踪的服务器与分支， 从服务器上抓取数据然后尝试合并入那个远程分支。

```bash
$ git pull
```

`git pull` 与 `git fetch` 的关系：`git pull` 相当于 `git fetch` 与 `git merge` 的组合。 

### 13 删除远程分支

```bash
$ git push <remote> --delete <branch>
```

